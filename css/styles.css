/* Estilos base */
:root{--bg:#0c0f14;--card:#151926;--muted:#9aa3b2;--text:#e8ecf2;--primary:#36e3a1;--accent:#7df3d0;--pill:#1b2133;--shadow:0 10px 20px rgba(0,0,0,.35)}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);padding-bottom:72px}
.topbar{position:sticky;top:0;z-index:10;display:flex;align-items:center;gap:.6rem;padding:.6rem .8rem env(safe-area-inset-top);background:linear-gradient(180deg,rgba(12,15,20,.98),rgba(12,15,20,.8) 70%,rgba(12,15,20,0));backdrop-filter:blur(6px)}
.topbar > *{flex-shrink:0}.top-actions{margin-left:auto;display:flex;gap:.4rem;position:static}
.icon-btn{background:#232a3e;border:none;color:#fff;width:36px;height:36px;border-radius:12px;display:grid;place-items:center;box-shadow:var(--shadow);cursor:pointer}
.icon-btn:hover{opacity:.9}.avatar img{width:36px;height:36px;border-radius:12px;display:block}
.balance-pill{display:flex;align-items:center;gap:.5rem;background:var(--pill);padding:.4rem .6rem;border-radius:14px;min-width:120px;box-shadow:var(--shadow)}
.balance-pill .flag{width:22px;height:14px;border-radius:2px;background:#222}.balance-pill .amount{font-weight:700}.balance-pill .chev{opacity:.7}
.hero{padding:.6rem .8rem 0}.hero img{width:100%;aspect-ratio:16/6;object-fit:cover;border-radius:20px;box-shadow:var(--shadow)}
.section{padding:.2rem .6rem .4rem}.section-title{margin:.8rem .4rem .4rem;font-size:1.15rem}
.section-title-row{display:flex;justify-content:space-between;align-items:center;margin:.8rem .4rem .4rem}
.filters{display:flex;gap:.4rem;overflow:auto;padding:.2rem .2rem .4rem}
.chip{background:#20263a;border:1px solid #2a324d;color:#e8ecf2;border-radius:20px;padding:.35rem .7rem;font-size:.9rem}
.chip.active{background:#2a3657;border-color:#3a4a7a}
.scroller{display:grid;grid-auto-flow:column;gap:.6rem;overflow-x:auto;padding:.4rem .4rem .8rem;scroll-snap-type:x mandatory}
.cards .card{scroll-snap-align:center;background:var(--card);border-radius:20px;width:180px;flex:0 0 auto;box-shadow:var(--shadow);position:relative}
.card img{width:100%;height:240px;object-fit:cover;border-top-left-radius:20px;border-top-right-radius:20px;display:block}
.card .body{padding:.6rem .7rem .8rem}.card h3{margin:.2rem 0;font-size:1rem;line-height:1.15}
.card .meta{display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:.85rem}
.badge{position:absolute;top:.5rem;left:.5rem;background:rgba(0,0,0,.6);padding:.2rem .45rem;border-radius:10px;font-weight:700;font-size:.85rem}
.winners .winner{background:#111725;border:1px solid #232e48;color:#cfe4ff;border-radius:14px;padding:.4rem .6rem;min-width:140px;text-align:center}.winner .amount{color:#5cf0b0;font-weight:800}
.bottom-nav{position:fixed;left:0;right:0;bottom:0;background:#0d111a;border-top:1px solid #1f2940;display:grid;grid-template-columns:repeat(5,1fr);padding:.25rem env(safe-area-inset-left) .4rem env(safe-area-inset-right)}
.nav-item{display:grid;place-items:center;text-decoration:none;color:#b1bad3;padding:.2rem 0;gap:.1rem;cursor:pointer}.nav-item .icon{font-size:1.2rem}.nav-item.active,.nav-item:active{color:#fff}
dialog{border:none;border-radius:16px;background:#121725;color:#e8ecf2;box-shadow:var(--shadow)}.modal{min-width:min(92vw,480px);padding:1rem}.modal h3{margin-top:0}
.input{display:grid;gap:.3rem;margin:.6rem 0}.input input,.input select{background:#0d1220;border:1px solid #243152;color:#e8ecf2;border-radius:12px;padding:.6rem}
menu{display:flex;justify-content:flex-end;gap:.6rem;margin:1rem 0 0 0}.btn{background:#2a76ff;border:none;color:#fff;border-radius:12px;padding:.6rem .9rem;font-weight:700;text-decoration:none;display:inline-grid;place-items:center}.btn.ghost{background:transparent;border:1px solid #334268;color:#cfe4ff}
/* Drawer */
.drawer{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(4px);display:none}.drawer.open{display:block}
.drawer-panel{position:absolute;left:0;top:0;bottom:0;width:min(84vw,320px);background:#0d111a;border-right:1px solid #1f2940;box-shadow:var(--shadow);padding:1rem;overflow:auto}
.drawer a{display:block;color:#e8ecf2;text-decoration:none;padding:.6rem .2rem;border-radius:8px}.drawer a:hover{background:#141c2b}
.topbar .brand{height:34px;margin-left:.2rem;filter:drop-shadow(0 2px 8px rgba(0,0,0,.35))}
@media (max-width:380px){.topbar{flex-wrap:wrap}.top-actions{order:3;width:100%;justify-content:flex-end}}
/* ===== Mejora visual, interacciones y layout ===== */

/* Fondo con sutil textura */
body{
  background:
    radial-gradient(1200px 600px at -10% -10%, rgba(80,120,255,.06), transparent 70%),
    radial-gradient(1200px 600px at 110% -10%, rgba(120,220,180,.06), transparent 70%),
    var(--bg);
}

/* Cards: 3D suave + foco accesible */
.cards .card{
  transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  border: 1px solid rgba(255,255,255,.04);
}
.cards .card:hover{ transform: translateY(-4px); box-shadow: 0 12px 28px rgba(0,0,0,.45);}
.cards .card:focus-within{ outline: 2px solid #3aa8ff44; }

/* Chips más “pill” y sticky */
.filters{ position: sticky; top: 56px; z-index: 5; background: linear-gradient(180deg, rgba(12,15,20,.9), rgba(12,15,20,0)); padding-top:.4rem; }
.chip{ transition: transform .15s ease, background .2s ease, border-color .2s ease; }
.chip:active{ transform: scale(.96); }

/* Barra de búsqueda */
.searchbar{ display:flex; gap:.5rem; align-items:center; padding: .2rem .4rem .6rem; }
.searchbar .input{ flex:1; margin:0; }
.searchbar input{
  background:#0d1220; border:1px solid #233052; color:#e8ecf2;
  border-radius:12px; padding:.6rem .8rem;
}
.searchbar .icon-btn{ width:40px; height:40px; }

/* Rail de proveedores */
.providers-rail{ display:flex; gap:.6rem; overflow:auto; padding:.4rem .6rem .8rem; }
.provider-chip{
  background:#111725; border:1px solid #23304d; border-radius:14px; padding:.35rem .6rem; display:flex; align-items:center; gap:.4rem;
  text-decoration:none; color:#cfe4ff; white-space:nowrap;
}
.provider-chip img{ height:18px; width:auto; }

/* Botón favorito en card */
.card .fav{
  position:absolute; right:.5rem; top:.5rem; width:36px; height:36px; border-radius:10px;
  background:rgba(0,0,0,.45); border:1px solid rgba(255,255,255,.08); display:grid; place-items:center; cursor:pointer;
}
.card .fav[data-active="true"]{ background:#1f2a46; border-color:#2e3e6b; }
.card .fav svg{ width:18px; height:18px; fill:#cfe4ff; opacity:.9; }
.card .fav[data-active="true"] svg{ fill:#ff6aa3; opacity:1; filter: drop-shadow(0 2px 6px rgba(255,106,163,.35)); }

/* Skeletons de carga */
.skel{ background: #131a2a; border-radius: 14px; width:180px; height:320px; position:relative; overflow:hidden; }
.skel::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
  transform: translateX(-100%); animation: shimmer 1.2s infinite;
}
@keyframes shimmer{ 100%{ transform: translateX(100%); } }

/* Desktop: cambiar carrusel por grilla */
@media (min-width: 960px){
  .scroller{ display:grid; grid-auto-flow:row; grid-template-columns: repeat(4, minmax(220px, 1fr)); gap:1rem; overflow:visible; }
  .cards .card, .skel{ width:auto; }
  .card img{ height:260px; }
}

/* Bottom nav: “flotada” */
.bottom-nav{
  border-top:1px solid rgba(255,255,255,.06);
  box-shadow: 0 -8px 20px rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
}
